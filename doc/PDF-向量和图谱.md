我现在的这个项目是要做一个GraphRAG系统，总体目标是当用户输入一个问题的时候，可以分析出这个问题是标题还是内容，然后可以将和这个问题相关的所有内容展示给用户，这个内容必须是完整的，例如如果是一个标题，那么展示的内容应该是标题加上正文（文本、图表、图片、表格等），如果是正文的某个片段那么应该展示这个正文对应的标题和完整的正文内容。现在需要按照这个目标去准备数据，20240906-CHO试剂盒单页_doc_1_hi_res.json这个文件是从pdf提取出来的内容保存到了这个json文件中，从内容可以看到有标题，还有正文，但是正文已经被分成了多段，如果我要实现这个功能，如何处理这个数据才可以实现？
例如：
1.若果要向量化，那么如何处理这个json文件的数据？
2.如果要存图数据库，那么如何处理这个json文件的数据？（如果这步骤和向量化用到的数据格式一样是否只处理一次就行了）
要求：
1.严格按照上述的总体目标设计并实现向量化功能，在PdfVectorService.py这个文件中实现向量化的所有内容
2.严格按照上述的总体目标设计并实现知识图谱功能，在PdfGraphService.py这个文件中实现知识图谱的所有内容
3.向量化数据库和图数据库已经存在对应的管理器，不要重复实现
4.严格按照这个要求实现，不要扩散思路和需求


优化（向量）：
数据提取阶段产生的json数据中包含id，并且这个id已经将“一家子”关联在一起，内容都通过parent_id绑定title。向量化产生的content_units没有包含element_id，这个element_id应该用title的id，保证每个content_units都是“一家子”，同时在这个阶段需要产生这“一家子”的结构化数据，保存到mysql中，用来在召回的时候，能准确拿到图片、图表、表格等详细信息。如果要实现这个功能需要做以下调整：
1.调整向量数据库的结构，增加“element_id”，用来保存“一家子”的唯一id
2.调整content_units，增加element_id，这个element_id的值是“这家子”的title的id，增加table、img、chars标签，保留表格、图片、图表的详细信息（表格结构、图片路径等），table、img、chars这三个标签在向量化时没有用，它是为了其他功能准备的，同时保证产生的json中也要包含新加的这些内容
3.调整document_chunks的结构，增加element_id，当完成一个content_units的向量化操作后，将这个content_units保存到document_chunks表其中content就用来保存这个content_units的json数据


优化（知识图谱）：
doc_1.json这个文件是提取pdf数据的文件，content_units.json这个文件是加工doc_1.json文件后用来做向量化的数据文件，现在需要构建实体关系，我不知道该用哪个数据，或者说应该基于哪个数据来加工一个构建知识图谱的数据更好。我的目标是“当用户输入一个问题的时候，可以分析出这个问题是标题还是内容，然后可以将和这个问题相关的所有内容展示给用户，这个内容必须是完整的，例如如果是一个标题，那么展示的内容应该是标题加上正文（文本、图表、图片、表格等），如果是正文的某个片段那么应该展示这个正文对应的标题和完整的正文内容”，现在向量化的环节已经实现完，详细分析下如果要实现这个功能，应该如何构建知识图谱
